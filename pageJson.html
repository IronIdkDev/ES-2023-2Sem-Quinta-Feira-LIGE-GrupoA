<html>
<head>
    <style>
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
        }
        td, th {
            padding: 10px;
        }
    </style>
</head>
<body onload="loadJSON('ES-2023-2Sem-Quinta-Feira-LIGE-GrupoA\horario.json')">
<h3> Resulting Table: </h3>
<div id="div"></div>
<pre id="json"></pre>
<script>

    function loadJSON(jsonFile) {
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function() {
            if (xhr.readyState === 4 && xhr.status === 200) {
                // Parse the JSON data
                var json = JSON.parse(xhr.responseText);

                // Format the JSON data with indentation and line breaks
                var formattedJson = JSON.stringify(json, null, 2);

                // Display the formatted JSON data in the HTML file
                document.getElementById("json").textContent = formattedJson;
            }
        };
        xhr.open("GET", jsonFile, true);
        xhr.send();
    }


    function convert(jsonData) {

        // Get the div element where the table will be inserted
        let div = document.getElementById("div");

        // Create the table element
        let table = document.createElement("table");

        // Get the keys (column names) of the first object in the JSON data
        let cols = Object.keys(jsonData[0]);

        // Create the header element
        let thead = document.createElement("thead");
        let tr = document.createElement("tr");

        // Loop through the column names and create header cells
        cols.forEach((item) => {
            let th = document.createElement("th");
            th.innerText = item; // Set the column name as the text of the header cell
            tr.appendChild(th); // Append the header cell to the header row
        });
        thead.appendChild(tr); // Append the header row to the header
        table.append(tr) // Append the header to the table

        // Loop through the JSON data and create table rows
        jsonData.forEach((item) => {
            let tr = document.createElement("tr");

            // Get the values of the current object in the JSON data
            let vals = Object.values(item);

            // Loop through the values and create table cells
            vals.forEach((elem) => {
                let td = document.createElement("td");
                td.innerText = elem; // Set the value as the text of the table cell
                tr.appendChild(td); // Append the table cell to the table row
            });
            table.appendChild(tr); // Append the table row to the table
        });
        div.appendChild(table) // Append the table to the div element
    }
</script>
</body>
</html>